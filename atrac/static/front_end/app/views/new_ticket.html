<ng-include src="'views/nav.html'"></ng-include>

<form class="form-horizontal" ng-submit="save()" ng-controller="TicketAddCtrl">
  <fieldset>
    <legend>新建任务单</legend>
    <div class="row">
      <div class="span9">
        <div class="control-group">
          <label class="control-label" for="inputSummary">概述</label>
          <div class="controls">
            <input class="span8" type="text" id="inputSummary" ng-model="ticket.summary" required />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputDescription">描述</label>
          <div class="controls">
            <textarea class="span8" rows="10" id="inputDescription" ng-model="ticket.description"></textarea>
          </div>
        </div>
      </div>
      <div class="span4">
        <div class="control-group">
          <label class="control-label" for="inputType">类型</label>
          <div class="controls">
            <select id="inputType" ng-model="ticket.type">
              <option ng-repeat="type in types" ng-selected="type.default">{{ type.name }}</option>
            </select>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputMilestone">里程碑/目标版本</label>
          <div class="controls">
            <select id="inputMilestone" ng-model="ticket.milestone">
              <option ng-repeat="milestone in milestones" ng-selected="milestone.default">{{ milestone.name }}</option>
            </select>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputVersion">当前版本</label>
          <div class="controls">
            <select id="inputVersion" ng-model="ticket.version">
              <option ng-repeat="version in versions" ng-selected="version.default">{{ version.name }}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="span1"></div>
      <div class="span4">
        <div class="control-group">
          <label class="control-label" for="inputParent">父任务</label>
          <div class="controls">
            <input type="text" id="inputParent" placeholder="输入关键词自动显示匹配父任务" ng-model="ticket.parent" />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputCategory">类别/组件</label>
          <div class="controls">
            <select id="inputCategory" ng-model="ticket.category">
              <option ng-repeat="category in categorys" ng-selected="category.default">{{ category.name }}</option>
            </select>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputAssigned">指派给</label>
          <div class="controls">
            <select id="inputAssigned" ng-model="ticket.assigned">
              <option ng-repeat="assigned in assigneds">{{ assigned }}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="span9">
        <div class="control-group">
          <label class="control-label" for="inputFile">附件</label>
          <div class="controls">
            <input type="file" id="inputFile" />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputCC">抄送/跟踪者</label>
          <div class="controls">
            <label class="checkbox inline" ng-repeat="cc in ccs">
              <input type="checkbox" id="inputCC{{ cc }}" value="{{ cc }}" ng-model="ticket.cc">{{ cc }}
            </label>
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn">预览</button>
      <button type="submit" class="btn btn-primary">创建</button>
    </div>
  </fieldset>
</form>
